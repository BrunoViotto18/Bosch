create database TetoSeguro

use TetoSeguro





create table cliente(
	cliente_id integer primary key identity(1,1),
	nome varchar(50) not null,
	cpf integer not null
);

create table telefone(
	telefone_id integer primary key identity(1,1),
	numero integer not null,
	cliente_id integer,
	funcionario_id integer,
	filial_id integer,
	foreign key (cliente_id) references cliente,
	foreign key (funcionario_id) references funcionario,
	foreign key (filial_id) references filial
);

create table endereco(
	endereco_id integer primery key identity(1,1),
	numero integer not null,
	rua varchar(50) not null,
	bairro varchar(50) not null,
	cidade varchar(50) not null,
	estado char(2) not null,
	cep integer not null,
	cliente_id integer not null,
	foreign key (cliente_id) references cliente
);

create table email(
	email_id integer primary key identity(1,1),
	email varchar(100) not null,
	cliente_id integer not null,
	foreign key (cliente_id) references cliente
);

create table filial(
	filial_id integer primary key identity(1,1),
	nome varchar(50) not null
);

create table funcionario(
	funcionario_id integer primary key identity(1,1),
	nome varchar(50) not null,
	cpf integer not null,
	cargo varchar(25) not null,
	filial_id integer not null,
	foreign key (filial_id) references filial
);

create table atendimento(
	atendimento_id integer primary key identity(1,1),
	data date not null,
	horario time not null,
	cliente_id integer not null,
	funcionario_id integer not null,
	foreign key (cliente_id) references cliente,
	foreign key (funcionario_id) references funcionario
);

create table pagamento(
	pagamento_id integer primary key identity(1,1),
	forma varchar(25) not null,
	imovel_id integer,
	proposta_id integer,
	foreign key (imovel_id) references imovel,
	foreign key (proposta_id) references proposta
);

create table proprietario(
	proprietario_id integer primary key identity(1,1),
	nome varchar(50) not null
);

create table imovel(
	imovel_id integer primary key identity(1,1),
	tipo_operacao varchar(20) not null,
	area numeric(10,2) not null,
	proprietario_id integer not null,
	foreign key (proprietario_id) references proprietario
);

create table proposta(
	proposta_id integer primary key identity(1,1),
	valor numeric(38,2)
);

create table visita(
	visita_id integer primary key identity(1,1),
	data date not null,
	horario time not null,
	atendimento_id integer not null,
	imovel_id integer not null,
	proposta_id integer,
	foreign key (atendimento_id) references atendimento,
	foreign key (imovel_id) references imovel,
	foreign key (proposta_id) references proposta
);





insert into cliente(nome, cpf) values
('Bruno', 11111111111),
('Luis', 22222222222),
('Murilo', 33333333333);

insert into telefone(numero, cliente_id, funcionario_id, filial_id) values
(111111111, 1, null, null),
(111112222, 1, null, null),
(222222222, 2, null, null),
(222223333, 2, null, null),
(333333333, 3, null, null),
(333334444, 3, null, null);

insert into endereco(numero, rua, bairro, cidade, estado, cep, cliente_id) values
(1, 'Rua 1', 'Bairro 1', 'Cidade 1', 'PR', 11111111, 1),
(2, 'Rua 2', 'Bairro 1', 'Cidade 1', 'PR', 22222222, 2),
(3, 'Rua 3', 'Bairro 3', 'Cidade 3', 'SC', 33333333, 3);

insert into email(email, cliente_id) values
('email.1@gmail.com', 1),
('email.2@gmail.com', 2),
('email.3@gmail.com', 3);

insert into filial(nome) values
('Matriz'),
('Filial 1');

insert into funcionario(nome, cpf, cargo, filial_id) values
('José', 44444444444, 'Genérico1', 1),
('José', 44444444444, 'Genérico1', 1),
('José', 44444444444, 'Genérico1', 1),

1. 

2. 

3. 

4. 

5. 

6. 

7. 

8. 

9. 

10. 
